<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Set New Password - Gravity Club LPU</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
  <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes float {
      0% {
        transform: translateY(0px);
      }
      50% {
        transform: translateY(-10px);
      }
      100% {
        transform: translateY(0px);
      }
    }

    .floating {
      animation: float 6s ease-in-out infinite;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .animate-fadeIn {
      animation: fadeIn 1s ease-out forwards;
    }

    /* Parallax scrolling background */
    @keyframes parallaxBackground {
      0% {
        background-position: 100% 0;
      }
      100% {
        background-position: 0% 0;
      }
    }

    body {
      background-image: url('Images/spacebackground.png');
      background-size: auto 100%;
      background-position: center;
      background-attachment: fixed;
      background-repeat: repeat-x;
      animation: parallaxBackground 60s linear infinite;
      min-height: 100vh;
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
    }
  </style>
</head>

<body class="bg-[#000000] text-[#D4D4D8] relative overflow-x-hidden">
  <!-- New Password Form Section -->
  <section class="w-full max-w-md px-6 py-12 animate-fadeIn">
    <div class="bg-[#000000]/70 backdrop-blur-lg rounded-xl p-8 border border-[#6B21A8]/50 shadow-lg shadow-[#6B21A8]/20">
      <div class="text-center mb-8">
        <img src="Images/mainlogo.png" alt="Gravity Logo" class="h-20 mx-auto mb-4 floating">
        <h2 class="text-2xl font-bold text-white mb-2">Set New Password</h2>
        <p class="text-[#9CA3AF]">Create a strong new password for your account</p>
      </div>

      <form action="/newpassword" method="post">
        <div class="mb-4">
          <label class="block text-sm font-medium text-[#D4D4D8] mb-2">enter new password</label>
          <input type="password" name="password" 
                 class="w-full px-4 py-3 bg-[#1A0B3A]/50 border border-[#6B21A8]/30 rounded-lg focus:ring-2 focus:ring-[#A855F7] focus:border-transparent text-white placeholder-[#6B7280]">
        </div>
        <button type="submit" 
                class="w-full px-6 py-3 bg-gradient-to-r from-[#7C3AED] to-[#3B82F6] rounded-lg font-medium text-white hover:from-[#6D28D9] hover:to-[#2563EB] transition-all duration-300 hover:shadow-lg hover:shadow-[#7C3AED]/30">
          Set password
        </button>
      </form>
    </div>
  </section>

  <script>
    window.addEventListener("DOMContentLoaded", async () => {
      try {
        const res = await fetch("/session-info");
        const data = await res.json();

        if (data.toast) {
          Toastify({
            text: data.toast,
            duration: 3000,
            gravity: "top",
            position: "center",
            style: {
              background: "linear-gradient(to right, #7C3AED, #3B82F6)",
              color: "#fff"
            }
          }).showToast();
        }
      } catch (err) {
        console.error("Error fetching session-info:", err);
      }
    });
  </script>
</body>
</html>